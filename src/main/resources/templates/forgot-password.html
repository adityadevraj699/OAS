<html th:replace="~{base::layout(~{::section})}">
  <head>
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body class="m-0 p-0" 
        style="background: linear-gradient(to right, #6a11cb, #2575fc); width:100vw; height:100vh; display:flex; align-items:center; justify-content:center;">
    
    <section style="width:100vw; height:70vh; display:flex; align-items:center; justify-content:center; background-color: rgba(135,206,250,0.1);">
      
      <div class="card shadow" style="width:100%; max-width:500px; padding:30px; border-radius:10px;">
        <h3 class="text-center mb-4">Forgot Password</h3>

        <form id="forgotPasswordForm">

          <!-- Step 1: Email / Mobile / Username -->
          <div id="step1">
            <div class="mb-3">
              <label for="identifier" class="form-label">Email, Mobile, or Username</label>
              <input type="text" class="form-control" id="identifier" placeholder="Enter email, mobile, or username" required>
            </div>
            <button type="button" class="btn w-100 text-white fw-bold" 
                    style="border-radius:20px; background: linear-gradient(to right, rgb(0,81,195), rgb(15,106,3));"
                    onclick="sendOTP()">
              Send OTP
            </button>
          </div>

          <!-- Step 2: Enter OTP -->
          <div id="step2" class="d-none mt-3">
            <div class="mb-3">
              <label for="otp" class="form-label">Enter OTP</label>
              <input type="text" class="form-control" id="otp" placeholder="Enter OTP received" required>
            </div>
            <button type="button" class="btn w-100 text-white fw-bold" 
                    style="border-radius:20px; background: linear-gradient(to right, rgb(0,81,195), rgb(15,106,3));"
                    onclick="verifyOTP()">
              Verify OTP
            </button>
          </div>

          <!-- Step 3: New Password -->
          <div id="step3" class="d-none mt-3">
            <div class="mb-3">
              <label for="newPassword" class="form-label">New Password</label>
              <input type="password" class="form-control" id="newPassword" placeholder="Enter new password" required>
            </div>
            <div class="mb-3">
              <label for="confirmNewPassword" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="confirmNewPassword" placeholder="Re-enter new password" required>
            </div>
            <button type="button" class="btn w-100 text-white fw-bold" 
                    style="border-radius:20px; background: linear-gradient(to right, rgb(0,81,195), rgb(15,106,3));"
                    onclick="resetPassword()">
              Reset Password
            </button>
          </div>

          <!-- Back to Login -->
          <div class="text-center mt-3">
            <a href="/login" class="text-decoration-none" style="color: #0d6efd;">&#8592; Back to Login</a>
          </div>

        </form>
      </div>

    </section>


  </body>
</html>
